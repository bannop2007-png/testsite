<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Äî Vistora</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="header">
    <a href="index.html" class="logo">Vistora</a>
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤–∏–¥–µ–æ...">
        <button class="search-btn">üîé</button>
    </div>
    <div class="nav" id="nav"></div>
</header>

<aside class="sidebar">
    <nav>
        <a href="index.html" class="sidebar-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="#" class="sidebar-link">üîç –ü–æ–∏—Å–∫</a>
        <a href="#" class="sidebar-link">üì∫ –ö–æ—Ä–æ—Ç–∫–∏–µ</a>
        <a href="#" class="sidebar-link">üìö –ü–æ–¥–ø–∏—Å–∫–∏</a>
        <hr>
        <a href="#" class="sidebar-link">üìú –ò—Å—Ç–æ—Ä–∏—è</a>
        <a href="#" class="sidebar-link">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
        <a href="#" class="sidebar-link">üì• –°–∫–∞—á–∞–Ω–Ω—ã–µ</a>
        <hr>
        <a href="profile.html" class="sidebar-link">üë§ –í—ã</a>
        <a href="settings.html" class="sidebar-link active">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    </nav>
</aside>

<main class="main-content" style="margin-left:260px; padding:100px 40px;">
    <div style="max-width:1000px; margin:auto; background:#111; border-radius:24px; padding:40px;">
        <h1 style="font-size:42px; color:#ffd700;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
        
        <div class="tabs">
            <button onclick="showTab(0)" class="tab-btn active">üë§ –ú–æ–∏ –¥–∞–Ω–Ω—ã–µ</button>
            <button onclick="showTab(1)" class="tab-btn" id="adminTab" style="display:none;">üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
        </div>

        <div id="tab0" style="margin-top:30px;">
            <div id="userInfo" style="font-size:18px; line-height:1.8;"></div>
        </div>

        <div id="tab1" style="display:none; margin-top:30px;">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
            <table id="usersTable" style="width:100%; border-collapse:collapse; margin-bottom:40px;"></table>
            
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ</h2>
            <button onclick="addNewVideo()" style="background:#ff0055; padding:12px 24px; border:none; border-radius:30px; color:white;">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ</button>
            <table id="videosTable" style="width:100%; border-collapse:collapse;"></table>
        </div>
    </div>
</main>

<script src="script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    updateHeader();
    const user = getCurrentUser();
    if (!user) return location.href = 'login.html';

    document.getElementById('userInfo').innerHTML = `
        <p><strong>–ò–º—è:</strong> ${user.username}</p>
        <p><strong>Email:</strong> ${user.email}</p>
    `;

    if (isAdmin()) {
        document.getElementById('adminTab').style.display = 'inline-block';
        showTab(1);
    }
});

function showTab(n) {
    document.getElementById('tab0').style.display = n===0 ? 'block' : 'none';
    document.getElementById('tab1').style.display = n===1 ? 'block' : 'none';
}
</script>
</body>
</html>
